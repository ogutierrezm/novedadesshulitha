function validarLoginUsr(){return""==$("#email").val()?($("#email").focus(),!1):""==$("#password").val()?($("#password").focus(),!1):!0}function LimpiaLogin(){$("#email").val(""),$("#password").val(""),$("#mensajeFail").css("display","none")}function CreateUsr(){var a=1,o=validarCreateUsr();return o&&$.post("./php/usuarios.php",{funcion:a,usuario:$("#usuario").val(),puesto:$("#empleados").val(),nombre:$("#nombre").val(),apellido:$("#apellido").val(),password:$("#password").val(),confirmarcontrasena:$("#confirmarcontrasena").val()},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.reload()},2e3)):($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3}),LimpiaInsertUsr())}),!0}function LimpiaInsertUsr(){$("#usuario").val(""),$("#empleados").val(0),$("#nombre").val(""),$("#apellido").val(""),$("#password").val(""),$("#confirmarcontrasena").val(""),$("#MsgExitoUsr").css("display","none"),$("#MsgFallaUsr").css("display","none")}function validarCreateUsr(){return""==$("#usuario").val()?($("#usuario").focus(),!1):0==$("#empleados").val()?($("#empleados").focus(),!1):""==$("#nombre").val()?($("#nombre").focus(),!1):""==$("#apellido").val()?($("#apellido").focus(),!1):""==$("#password").val()?($("#password").focus(),!1):""==$("#confirmarcontrasena").val()?($("#confirmarcontrasena").focus(),!1):$("#confirmarcontrasena").val()!==$("#password").val()?($("#confirmarcontrasena").focus(),!1):!0}function CreateNvaZona(){var a=validarNvaZona(),o=1;return a&&$.post("./php/zonas.php",{funcion:o,nombrezona:$("#nombre").val(),desczona:$("#descripcion").val()},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.reload()},2e3),$("#nombre").focus()):($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3}),$("#nombre").focus())}),!0}function validarNvaZona(){return""==$("#nombre").val()?($("#nombre").focus(),!1):""==$("#descripcion").val()?($("#descripcion").focus(),!1):!0}function LimpiaNvaZona(){return $("#nombre").val(""),$("#descripcion").val(""),$("#MsgFallaUsr").css("display","none"),$("#MsgExitoUsr").css("display","none"),!0}function blurConsultarCalleSepomex(){var a=2;return $.post("./php/zonas.php",{funcion:a,CodigoPostal:parseInt($("#CodigoPostal").val().replace("XXXXX",""))?parseInt($("#CodigoPostal").val().replace("XXXXX","")):0,Colonia:""},function(a,o){obj=JSON.parse(a),1==obj.success?($("#Colonia option").remove(),$("#Colonia").append(obj.data),$("#Colonia").focus()):$("#Colonia").focus()}),!0}function ConsultarCalleSepomex(){var a=validarCalleSepomex(),o=0;try{o=event.keyCode?event.keyCode:event.which}catch(e){o=0}if((0==o||"13"==o)&&(parseInt($("#CodigoPostal").val().replace("XXXXX",""))?parseInt($("#CodigoPostal").val().replace("XXXXX","")):0)>=4){var i=2;return a&&$.post("./php/zonas.php",{funcion:i,CodigoPostal:parseInt($("#CodigoPostal").val().replace("XXXXX",""))?parseInt($("#CodigoPostal").val().replace("XXXXX","")):0,Colonia:""},function(a,o){obj=JSON.parse(a),1==obj.success?($("#Colonia option").remove(),$("#Colonia").append(obj.data),$("#Colonia").focus()):$("#Colonia").focus()}),keyCode=0,!0}return!1}function validarCalleSepomex(){return""==$("#CodigoPostal").val()?($("#CodigoPostal").focus(),!1):""==$("#Colonia").val()?($("#Colonia").focus(),!1):!0}function AgregarInventario(){var a=validarInventarioNuevo(),o=2;return a&&$.post("./php/inventario.php",{funcion:o,horas:$("#horas").val(),st3:0==$("#st3").val()?0:1,precio:$("#precio").val(),cantidad:$("#spinner-currency").val(),articulo:$("#articulo").val()},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.reload()},2e3),$("#articulo").focus(),obtenerSKU()):($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3}),LimpiarInventarioNuevo(),$("#articulo").focus())}),!0}function validarInventarioNuevo(){return""==$("#articulo").val()?($("#articulo").focus(),!1):""==$("#spinner-currency").val()||$("#spinner-currency").val()<=0?($("#spinner-currency").focus(),!1):""==$("#precio").val()||$("#precio").val()<=0?($("#precio").focus(),!1):""==$("#st3").val()?($("#st3").focus(),!1):""==$("#horas").val()||""==$("#horas").val()?($("#horas").focus(),!1):!0}function LimpiarInventarioNuevo(){return $("#articulo").val(""),$("#spinner-currency").val(0),$("#precio").val(""),$("#st3").val(0),$("#horas").val(0),$("#MsgFallaUsr").css("display","none"),$("#MsgExitoUsr").css("display","none"),!0}function ActualizarInventario(){var a=validarInventarioActualizar(),o=3;return a&&$.post("./php/inventario.php",{funcion:o,horas:$("#horasModal").val(),st3:0==$("#st3Modal").val()?0:1,precio:$("#precioModal").val(),cantidad:$("#spinner-currencyModal").val(),articulo:$("#articuloModal").val(),sku:$("#skuModal").val()},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.reload()},2e3),$("#articuloModal").focus(),obtenerSKU()):($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3}),$("#articuloModal").focus())}),!0}function validarInventarioActualizar(){return""==$("#skuModal").val()?($("#skuModal").focus(),!1):""==$("#articuloModal").val()?($("#articuloModal").focus(),!1):""==$("#spinner-currencyModal").val()||$("#spinner-currencyModal").val()<=0?($("#spinner-currencyModal").focus(),!1):""==$("#precioModal").val()||$("#precioModal").val()<=0?($("#precioModal").focus(),!1):""==$("#st3Modal").val()?($("#st3Modal").focus(),!1):""==$("#horasModal").val()||""==$("#horasModal").val()?($("#horasModal").focus(),!1):!0}function cambioEspecialArticulo(){0==$("#st3").val()?($("#horas").val(0),$("#st3").val(1),$("#dvHorasArticuloEspecial").css("display","block")):($("#horas").val(0),$("#st3").val(0),$("#dvHorasArticuloEspecial").css("display","none"))}function cambioEspecialModalArticulo(){0==$("#st3Modal").val()?($("#horasModal").val(0),$("#st3Modal").val(1),$("#dvHorasArticuloEspecialModal").css("display","block")):($("#horasModal").val(0),$("#st3Modal").val(0),$("#dvHorasArticuloEspecialModal").css("display","none"))}function obtenerSKU(){var a=1;$.post("./php/inventario.php",{funcion:a},function(a,o){obj=JSON.parse(a),1==obj.success&&$("#sku").val(obj.data.retorno)})}function ConsultarColonias(){var a=$("#Colonia").val().split(" - "),o=validarConsultarColonias(a),e=3;return o&&$.post("./php/zonas.php",{funcion:e,CodigoPostal:""==$("#CodigoPostal").val()?0:$("#CodigoPostal").val(),Colonia:parseInt(a[0])},function(a,o){if(obj=JSON.parse(a),1==obj.success){var e=obj.data;$("#CodigoPostal").val(e.d_codigo),$("#municipio").val(e.d_mnpio)}else $("#CodigoPostal").val(""),$("#municipio").val("")}),!0}function limpiaDatosCpMnipio(){return $("#CodigoPostal").val(""),$("#municipio").val(""),!0}function validarConsultarColonias(a){return a.length<=0?(limpiaDatosCpMnipio(),!1):!0}function grabarRegionColonia(){var a=$("#Colonia").val().split(" - "),o=validarConsultarColonias2(a),e=4;return o&&$.post("./php/zonas.php",{funcion:e,iKeyxDir:parseInt(a[0]),iRegion:""==$("#SelectZona").val()?0:$("#SelectZona").val()},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.reload()},2e3),$("#CodigoPostal").focus()):($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.reload()},2e3),$("#CodigoPostal").focus())}),!0}function validarConsultarColonias2(a){return a.length<2?(limpiaDatosCpMnipio(),!1):""==$("#CodigoPostal").val()&&""==$("#Colonia").val()?(limpiaDatosCpMnipio(),!1):!0}function LimpiarRegistroZona(){return $("#Colonia").val(""),$("#SelectZona").val(0),$("#CodigoPostal").val(""),$("#municipio").val(""),$("#MsgFallaUsr").css("display","none"),$("#MsgExitoUsr").css("display","none"),!0}function eliminarUsuario(a){var o=2,e=a.replace("eliminar_","");return $.post("./php/usuarios.php",{funcion:o,puesto:""==e?0:e},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.reload()},2e3)):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function MensajeSmartUsuarios(a,o){return $.SmartMessageBox({title:"¿Esta seguro que desea continuar?",content:"Al realizar la operaci&oacute;n podria afectar informaci&oacute;n relacionada a este usuario.",buttons:"[No][Si]"},function(e){"Si"===e&&(2==o?eliminarUsuario(a):4==o&&ActualizarUsr()),"No"===e&&$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>Se cancelo la operaci&oacute;n...</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function MensajeSmartModPedidos(a,o){return $.SmartMessageBox({title:"¿Esta seguro que desea continuar?",content:"Al realizar la operaci&oacute;n podria afectar informaci&oacute;n relacionada a este pedido.",buttons:"[No][Si]"},function(e){"Si"===e&&2==o&&borrarPedido(a),"No"===e&&$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>Se cancelo la operaci&oacute;n...</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function borrarPedido(a){var o=7;return $.post("./php/pedidos.php",{funcion:o,foliopedido:parseInt(a)>0?a:0},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.href=sUrlRedirected,window.location.reload()},2e3)):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function consultarUsuarios(){var a=3;return $.post("./php/usuarios.php",{funcion:a},function(a,o){obj=JSON.parse(a),1==obj.success&&($("#tbodyUsuarios").html(""),$("#tbodyUsuarios").append(obj.data))}),!0}function ActualizarUsr(){var a=4,o=validarActualizarUsr();return o&&$.post("./php/usuarios.php",{funcion:a,usuario:$("#mdlUsuario").val(),keyx:vId_puesto,puesto:$("#mdlEmpleados").val(),nombre:$("#mdlNombre").val().trim(),password:$("#mdlPassword").val(),confirmarcontrasena:$("#mdlPasswordConf").val()},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.reload()},2e3)):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function validarActualizarUsr(){return""==$("#mdlUsuario").val()?($("#mdlUsuario").focus(),!1):0==$("#mdlEmpleados").val()?($("#mdlEmpleados").focus(),!1):""==$("#mdlNombre").val()?($("#mdlNombre").focus(),!1):""==$("#mdlPassword").val()?($("#mdlPassword").focus(),!1):""==$("#mdlPasswordConf").val()?($("#mdlPasswordConf").focus(),!1):$("#mdlPasswordConf").val()!==$("#mdlPassword").val()?($("#mdlPasswordConf").focus(),!1):!0}function LimpiaActualizarUsr(){$("#mdlUsuario").val(""),$("#mdlEmpleados").val(0),$("#mdlNombre").val("")}function ConsultarTelefonos(){ValidarTelefonosCliente();return""!=$("#telefonocelular").val()?ConsultarTelefonoCelularCte():""!=$("#telefonocasa").val()?ConsultarTelefonoCasaCte():$("#telefonocelular").focus(),!0}function ConsultarTelefonoCelularCte(){var a=1,o=QuitarMascara($("#telefonocelular").val()),e=ValidarTelefonosCliente();return e&&$.post("./php/cliente.php",{funcion:a,telefonocelular:o},function(a,o){obj=JSON.parse(a),1==obj.success&&(""!=obj.data?($("#clientekeyx").val(obj.data.keyx),$("#telefonocasa").val(obj.data.telcasa),$("#telefonocelular").val(obj.data.telcelular),$("#nombre").val(obj.data.nombres),$("#apellido").val(obj.data.apellidos),ConsultarUltimosPedidosCte(obj.data.keyx)):$("#telefonocasa").focus())}),!0}function ConsultarTelefonoCasaCte(){var a=2,o=QuitarMascara($("#telefonocasa").val()),e=ValidarTelefonosCliente();return e&&$.post("./php/cliente.php",{funcion:a,telefonocasa:o},function(a,o){obj=JSON.parse(a),1==obj.success&&(""!=obj.data?($("#clientekeyx").val(obj.data.keyx),$("#telefonocasa").val(obj.data.telcasa),$("#telefonocelular").val(obj.data.telcelular),$("#nombre").val(obj.data.nombres),$("#apellido").val(obj.data.apellidos),ConsultarUltimosPedidosCte(obj.data.keyx)):$("#telefonocasa").focus())}),!0}function ValidarTelefonosCliente(){var a=0;try{a=event.keyCode?event.keyCode:event.which}catch(o){a=0}return 0!=a&&"13"!=a||!($("#telefonocelular").val().length>=10||$("#telefonocasa").val().length>=10)?!1:!0}function QuitarMascara(a){return a=a.replace(/[^0-9\.]/g,"")}function ConsultarUltimosPedidosCte(a){var o=3;return a>0&&$.post("./php/cliente.php",{funcion:o,cliente:a},function(a,o){obj=JSON.parse(a),1==obj.success&&(""!=obj.data?(obj.data.length>1&&($("#secTengoMasDomicilios").css("display","block"),domiciliosCliente=obj.data),$("#calle").val(obj.data[0].calle),$("#numext").val(obj.data[0].numexterior),$("#numint").val(obj.data[0].numinterior),$("#CodigoPostal").val(obj.data[0].codigopostal),$("#Colonia").val(obj.data[0].colonia),$("#municipio").val(obj.data[0].ciudad),$("#referencias").val(obj.data[0].observaciones),domicilioSet=0):($("#secTengoMasDomicilios").css("display","none"),$("#telefonocasa").focus()))}),!0}function cambiarDomicilio(){return domicilioSet==domiciliosCliente.length-1&&(domicilioSet=-1),domicilioSet++,domiciliosCliente.length>=domicilioSet&&($("#calle").val(domiciliosCliente[domicilioSet].calle),$("#numext").val(domiciliosCliente[domicilioSet].numexterior),$("#numint").val(domiciliosCliente[domicilioSet].numinterior),$("#CodigoPostal").val(domiciliosCliente[domicilioSet].codigopostal),$("#Colonia").val(domiciliosCliente[domicilioSet].colonia),$("#municipio").val(domiciliosCliente[domicilioSet].ciudad),$("#referencias").val(domiciliosCliente[domicilioSet].observaciones)),!0}function consultarArticuloElegido(a,o){var e=1;return a>0&&$.post("./php/articulos.php",{funcion:e,keyx:a,fechaentrega:$("#fechaentrega").val()},function(e,i){if(obj=JSON.parse(e),1==obj.success&&""!=obj.data){$("#precio_"+o).val(obj.data.precio),$("#cantidad_"+o).val(1);var l=obj.data.flag_especial;$("#hidespecial_"+o).val(l);var t=document.getElementById("hidespecial_"+o);$("#hidcantidad_"+o).val(obj.data.cantidad),parseInt($("#cantidad_"+o).val())>t.value&&1!==t&&($("#cantidad_"+o).val(1),$("#notaEspecial_"+o).attr("disabled","disabled"),$("#notaEspecial_"+o).attr("readonly","true"),$("#notaEspecial_"+o).val("")),1==parseInt($("#hidespecial_"+o).val())&&($("#notaEspecial_"+o).removeAttr("disabled"),$("#notaEspecial_"+o).removeAttr("readonly"),parseInt($("#cantidad_"+o).val())>parseInt($("#hidcantidad_"+o).val())&&($("#cantidad_"+o).val(1),ConsultarArticuloHorariosEspecial(a)));var n=$("#cantidad_"+o).val()*$("#precio_"+o).val();$("#subtotal_"+o).val(n),$("#cantidad_"+o).focus(),CalcularSaldoPedido()}}),!0}function CalcularSaldoPedido(){for(var a=0,o=0,e=0,i=$("#consecutivo").val(),l=1;i>=l;l++)o=null!=$("#precio_"+l).val()?$("#precio_"+l).val():0,parseInt($("#cantidad_"+l).val())>parseInt($("#hidcantidad_"+l).val())&&1!==parseInt($("#hidespecial_"+l).val())?$("#cantidad_"+l).val($("#hidcantidad_"+l).val()):1==parseInt($("#hidespecial_"+i).val())&&($("#notaEspecial_"+i).css("disabled","false"),$("#notaEspecial_"+i).css("readonly","false"),parseInt($("#cantidad_"+i).val())>parseInt($("#hidcantidad_"+i).val())&&$("#cantidad_"+i).val(1)),e=null!=$("#cantidad_"+l).val()?parseInt($("#cantidad_"+l).val()):0,a=parseInt(a+o*e);return vFlete=null!=$("#idcargoFlete").val()?parseInt($("#idcargoFlete").val()):0,vAbono=null!=$("#importe_totalmodal").val()?parseInt($("#importe_totalmodal").val()):0,a=a>0?parseInt(a):0,a+=vFlete,objAbono=$("#importe_totalmodal").val(),parseInt(a)<parseInt(objAbono)&&($("#importe_totalmodal").val(parseInt(a)),vAbono=$("#importe_totalmodal").val()),objAbono.max=a,vTotalgral=a-vAbono,$("#subtotal").html(a),$("#abono").html(vAbono),$("#total").html(vTotalgral),!0}function ReCalcularSaldoPedido(a){var o=0,e=0,i=0;return e=null!=$("#precio_"+a).val()?$("#precio_"+a).val():0,parseInt($("#cantidad_"+a).val())>parseInt($("#hidcantidad_"+a).val())&&1!==parseInt($("#hidespecial_"+a).val())?$("#cantidad_"+a).val($("#hidcantidad_"+a).val()):1==parseInt($("#hidespecial_"+a).val())&&($("#notaEspecial_"+a).css("disabled","false"),$("#notaEspecial_"+a).css("readonly","false"),parseInt($("#cantidad_"+a).val())>parseInt($("#hidcantidad_"+a).val())&&$("#cantidad_"+a).val(1)),i=null!=$("#cantidad_"+a).val()?$("#cantidad_"+a).val():0,vFlete=null!=$("#idcargoFlete").val()?parseInt($("#idcargoFlete").val()):0,o=parseInt(o+e*i),$("#subtotal_"+a).val(o),CalcularSaldoPedido(),!0}function pedidoGrabarCliente(){var a=4,o=0,e=validarCteNuevo();return e>0&&$.post("./php/cliente.php",{funcion:a,telefonocelular:QuitarMascara($("#telefonocelular").val()),telefonocasa:QuitarMascara($("#telefonocasa").val()),nombre:$("#nombre").val(),apellido:$("#apellido").val()},function(a,e){obj=JSON.parse(a),1==obj.success?""!=obj.data&&($("#clientekeyx").val(obj.data.retorno),o=obj.data.retorno,$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),pedidoGrabarDomicilio()):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function modificarGrabarCliente(){var a=4,o=0,e=validarCteNuevo();return e>0&&$.post("./php/cliente.php",{funcion:a,telefonocelular:QuitarMascara($("#telefonocelular").val()),telefonocasa:QuitarMascara($("#telefonocasa").val()),nombre:$("#nombre").val(),apellido:$("#apellido").val()},function(a,e){obj=JSON.parse(a),1==obj.success?""!=obj.data&&($("#clientekeyx").val(obj.data.retorno),o=obj.data.retorno,$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),modificarGrabarDomicilio()):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function modificarGrabarDomicilio(){var a=5,o=0,e=parseInt($("#CodigoPostal").val().replace("XXXXX",""))?parseInt($("#CodigoPostal").val().replace("XXXXX","")):0,i=$("#municipio").val();0==e&&(e=99999,$("#CodigoPostal").val(e)),""==i&&(i="NO ASIGNADO",$("#municipio").val(i));var l=validarDomicilioNuevo();return l>0&&$.post("./php/cliente.php",{funcion:a,calle:$("#calle").val(),numext:$("#numext").val(),numint:$("#numint").val(),CodigoPostal:e,Colonia:$("#Colonia").val(),municipio:i,referencias:$("#referencias").val()},function(a,e){obj=JSON.parse(a),1==obj.success?""!=obj.data&&(o=obj.data.retorno,$("#direccionkeyx").val(obj.data.retorno),$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),modificarpedidoGrabarDetalle()):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function modificarpedidoGrabarDetalle(){var a=10,o=$("#folio").val(),e=validarPedidoNuevo();return e&&$.post("./php/cliente.php",{funcion:a,foliopedido:o},function(a,o){if(obj=JSON.parse(a),1==obj.success)if(""!=obj.data){for(var e=0,i=0,l=$("#consecutivo").val(),t=($("#folio").val(),""),n=1;l>=n;n++)e=$("#cmbarticulos_"+n).val()>0?$("#cmbarticulos_"+n).val():0,i=parseInt($("#cantidad_"+n).val())>0?parseInt($("#cantidad_"+n).val()):0,t=1==parseInt($("#hidespecial_"+n).val())&&""!=$("#notaEspecial_"+n).val()?$("#notaEspecial_"+n).val():"",pedidoGrabarArticuloDePedidoModificado(e,i,t);var r=$("#clientekeyx").val(),c=$("#direccionkeyx").val();modifcarpedidoGrabarPedido(r,c)}else $.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function modifcarpedidoGrabarPedido(a,o){var e=9,i=$("#folio").val(),l=($("#empleado option:selected").html(),validarPedidoNuevo());return l&&$.post("./php/cliente.php",{funcion:e,foliopedido:i,fechaentrega:$("#fechaentrega").val(),fecharecolecta:$("#fecharecolectar").val(),hora1:$("#hora1").val(),hora2:$("#hora2").val(),flag_especial:$("#check_recoger").val(),clientekeyx:a,direccionkeyx:o,empleado:$("#empleado").val(),mantel:$("#idManteleria").val(),flete:$("#idcargoFlete").val()},function(a,o){obj=JSON.parse(a),1==obj.success?""!=obj.data&&($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.href=sUrlRedirected},2e3)):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function pedidoGrabarArticuloDePedidoModificado(a,o,e){var i=6,l=$("#folio").val(),t=validarArticuloDePedidoNuevo(l,a,o,e);return t&&$.post("./php/cliente.php",{funcion:i,foliopedido:l,id_articulo:a,cantidad:o,horariorenta:e},function(a,o){obj=JSON.parse(a),1==obj.success&&""!=obj.data}),!0}function cambiarValor(a){return 0==a?($("#check_recoger").val(1),$("#fecharecolectar").val(obtenerFechaEntrega()),$("#time2").css("display","block"),$("#hora2").css("display","block")):($("#check_recoger").val(0),$("#fecharecolectar").val(obtenerFechaRecolecta()),$("#time2").css("display","none"),$("#hora2").css("display","none")),!0}function validarCteNuevo(){return""==$("#telefonocelular").val()&&""==$("#telefonocasa").val()?""==$("#telefonocelular").val()?($("#telefonocelular").focus(),!1):($("#telefonocasa").focus(),!1):""==$("#nombre").val()?($("#nombre").focus(),!1):""==$("#apellido").val()?($("#apellido").focus(),!1):!0}function grabarPedido(){var a=!1;return a=pedidoGrabarCliente()}function modificarPedido(){var a=!1;return a=modificarGrabarCliente()}function muestraInformacionSist(){$.bigBox({title:"Información del sistema",content:"<strong>Diversiones PISCIS</strong></br>Sistema de control de Pedidos e Inventario</br>Version: 1.2&nbsp;|&nbsp;Build: 1.2</br>Actualización: 18/01/2016",color:"#30618E",timeout:7e3,icon:"fa fa-cog swing animated"})}function pedidoGrabarDomicilio(){var a=5,o=0,e=parseInt($("#CodigoPostal").val().replace("XXXXX",""))?parseInt($("#CodigoPostal").val().replace("XXXXX","")):0,i=$("#municipio").val();0==e&&(e=99999,$("#CodigoPostal").val(e)),""==i&&(i="NO ASIGNADO",$("#municipio").val(i));var l=validarDomicilioNuevo();return l>0&&$.post("./php/cliente.php",{funcion:a,calle:$("#calle").val(),numext:$("#numext").val(),numint:$("#numint").val(),CodigoPostal:e,Colonia:$("#Colonia").val(),municipio:i,referencias:$("#referencias").val()},function(a,e){obj=JSON.parse(a),1==obj.success?""!=obj.data&&(o=obj.data.retorno,$("#direccionkeyx").val(obj.data.retorno),$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}),pedidoGrabarDetalle()):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function validarDomicilioNuevo(){return""==$("#calle").val()?($("#calle").focus(),!1):0==$("#numext").val()||""==$("#numext").val()?($("#numext").focus(),!1):""==$("#CodigoPostal").val()||0==$("#CodigoPostal").val()?($("#CodigoPostal").focus(),!1):""==$("#Colonia").val()?($("#Colonia").focus(),!1):""==$("#municipio").val()?($("#municipio").focus(),!1):""==$("#referencias").val()?($("#referencias").focus(),!1):!0}function pedidoGrabarArticuloDePedidoNuevo(a,o,e){var i=6,l=$("#folio").val(),t=validarArticuloDePedidoNuevo(l,a,o,e);return t&&$.post("./php/cliente.php",{funcion:i,foliopedido:l,id_articulo:a,cantidad:o,horariorenta:e},function(a,o){obj=JSON.parse(a),1==obj.success&&""!=obj.data}),!0}function validarArticuloDePedidoNuevo(a,o,e,i){return 0>=a?!1:0>=o?!1:0>=e?!1:!0}function pedidoGrabarPedido(a,o){var e=!0,i=7,l=$("#folio").val(),t=$("#empleado option:selected").html(),n=validarPedidoNuevo();return n&&$.post("./php/cliente.php",{funcion:i,foliopedido:l,fechaentrega:$("#fechaentrega").val(),fecharecolecta:$("#fecharecolectar").val(),hora1:$("#hora1").val(),hora2:$("#hora2").val(),flag_especial:$("#check_recoger").val(),clientekeyx:a,direccionkeyx:o,empleado:$("#empleado").val(),mantel:$("#idManteleria").val(),flete:$("#idcargoFlete").val()},function(a,o){if(obj=JSON.parse(a),1==obj.success){if(""!=obj.data){$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3});var i=parseInt($("#folio").val());$("#importe_totalmodal").val()>0&&AbonarPedido(1,i,1,e,t),setTimeout(function(){window.location.href=sUrlRedirected},2e3)}}else $.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function validarPedidoNuevo(){return""==$("#fechaentrega").val()?!1:""==$("#fecharecolectar").val()?!1:!0}function pedidoGrabarDetalle(){for(var a=0,o=0,e=$("#consecutivo").val(),i=($("#folio").val(),""),l=1;e>=l;l++)a=$("#cmbarticulos_"+l).val()>0?$("#cmbarticulos_"+l).val():0,o=parseInt($("#cantidad_"+l).val())>0?parseInt($("#cantidad_"+l).val()):0,i=1==parseInt($("#hidespecial_"+l).val())&&""!=$("#notaEspecial_"+l).val()?$("#notaEspecial_"+l).val():"",pedidoGrabarArticuloDePedidoNuevo(a,o,i);var t=$("#clientekeyx").val(),n=$("#direccionkeyx").val();pedidoGrabarPedido(t,n);return!0}function LimpiarCapturaPedidoNuevo(a){return $("#consecutivo").val(1),LimpiarGrid(),$("#folio").val(a),$("#clientekeyx").val(0),$("#direccionkeyx").val(0),$("#hora1").val(""),$("#hora2").val(""),$("#check_recoger").val(0),$("#time2").css("display","none"),$("#hora2").css("display","none"),$("#calle").val(""),$("#numext").val(""),$("#numint").val(""),$("#CodigoPostal").val(""),$("#Colonia").val(""),$("#municipio").val(""),$("#referencias").val(""),$("#telefonocelular").val(""),$("#telefonocasa").val(""),$("#nombre").val(""),$("#apellido").val(""),$("#total").html(0),$("#telefonocelular").focus(),!0}function consultarColoniasZonas(){var a=5;return $.post("./php/zonas.php",{funcion:a},function(a,o){obj=JSON.parse(a),1==obj.success&&($("#tbodyColonias").html(""),setTimeout(function(){$("#tbodyColonias").append(obj.data)},2e3))}),!0}function consultarZonas(){var a=6;return $.post("./php/zonas.php",{funcion:a},function(a,o){obj=JSON.parse(a),1==obj.success&&($("#tbodyZonas").html(""),$("#tbodyZonas").append(obj.data))}),!0}function ConsultarArticuloHorariosEspecial(a){var o=2;return $.post("./php/articulos.php",{funcion:o,keyx:a},function(a,o){if(obj=JSON.parse(a),1==obj.success){$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.data+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:1e4})}}),!0}function ConsultarFolioPedido(){var a=1,o=validarConsultarFolioPedido();return o&&$.post("./php/pedidos.php",{funcion:a,foliopedido:$("#folio").val()},function(a,o){if(obj=JSON.parse(a),1==obj.success){$("#nombre").val(obj.data.nombrecte),$("#calle").val(obj.data.calle),$("#numext").val(obj.data.numext),$("#numint").val(obj.data.numint),$("#CodigoPostal").val(obj.data.codigopostal),$("#colonia").val(obj.data.colonia),$("#municipio").val(obj.data.ciudad),$("#fechaentrega").val(obj.data.fechapedido),$("#fecharecolectar").val(obj.data.fechavueltapedido),$("#hora1").val(obj.data.notahoraentrega),$("#hora2").val(obj.data.notahorarecoger),$("#total").html(obj.data.total),$("#abono").html(obj.data.abono),$("#actividadPedido").attr("display","block"),$("#liquidaPedido").removeAttr("href"),$("#recibirAbono").removeAttr("href"),$("#entradaParcial").removeAttr("href");var e=$("#total").html()-$("#abono").html();$("#totalmodal").val(e),$("#importe_total").val(""),$("#importe_total").focus(),$("#liquidaPedido").attr("href","ajax/modal_liquidarpedido.php?foliopedido="+$("#folio").val()),$("#recibirAbono").attr("href","ajax/modal_recibirabono.php?foliopedido="+$("#folio").val()+"&importe_total="+e),$("#entradaParcial").attr("href","ajax/modal_entradaparcial.php?foliopedido="+$("#folio").val()),consultarPedidoaRecibir(),$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:1e4})}else $("#actividadPedido").attr("display","none"),$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function ConsultarFolioPedidoAModificar(){var a=1,o=validarConsultarFolioPedido();return o&&$.post("./php/pedidos.php",{funcion:a,foliopedido:$("#folio").val()},function(a,o){if(obj=JSON.parse(a),1==obj.success){console.log(obj.data),$("#nombre").val(obj.data.nombrecte),$("#apellido").val(obj.data.apellidocte),$("#telefonocasa").val(obj.data.telefonocasa),$("#telefonocelular").val(obj.data.telefonocelular),$("#referencias").val(obj.data.referencias),$("#calle").val(obj.data.calle),$("#numext").val(obj.data.numext),$("#numint").val(obj.data.numint),$("#CodigoPostal").val(obj.data.codigopostal),$("#Colonia").val(obj.data.codigopostal+" - "+obj.data.colonia+" - "+obj.data.ciudad),$("#idManteleria").val(obj.data.manteleria),$("#idcargoFlete").val(obj.data.flete),$("#municipio").val(obj.data.ciudad),$("#fechaentrega").val(obj.data.fechapedido),$("#fecharecolectar").val(obj.data.fechavueltapedido),$("#hora1").val(obj.data.notahoraentrega),$("#hora2").val(obj.data.notahorarecoger);var e=parseInt(obj.data.total)+parseInt(obj.data.abono);$("#subtotal").html(e),$("#abono").html(parseInt(obj.data.abono)),$("#importe_totalmodal").val(obj.data.abono),$("#actividadPedido").attr("display","block"),$("#liquidaPedido").removeAttr("href"),$("#recibirAbono").removeAttr("href"),$("#entradaParcial").removeAttr("href"),$("#total").val(parseInt(obj.data.total)),$("#importe_total").val(""),$("#importe_total").focus(),consultarPedidoaRecibir(),$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",
color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:1e4})}else $("#actividadPedido").attr("display","none"),$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function validarConsultarFolioPedido(){return""==$("#folio").val()||$("#folio").val()<=0?!1:!0}function consultarPedidoaRecibir(){var a=2;return $.post("./php/pedidos.php",{funcion:a,foliopedido:$("#folio").val()},function(a,o){obj=JSON.parse(a),1==obj.success&&($("#tbodyRecibirPedido").html(""),$("#tbodyRecibirPedido").append(obj.data))}),!0}function LiquidarPedido(){var a=!1,o=3,e=$("#foliomodal").html(),i=$("#idEmpleado").html();return $.post("./php/pedidos.php",{funcion:o,foliopedido:$("#foliomodal").html()},function(a,o){obj=JSON.parse(a),1==obj.success?$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:3e3}):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),AbonarPedido(null,e,1,a,i),LimpiarCapturaPedidoLiberado(),$("#modalLiquidar").modal("toggle"),!0}function AbonarPedido(a,o,e,i,l){var t=4,n=0;return n=1!=a?parseInt($("#importe_total").html())>0?$("#importe_total").html():0:parseInt($("#importe_totalmodal").val())>0?$("#importe_totalmodal").val():0,n=parseInt(n),n>0?$.post("./php/pedidos.php",{funcion:t,foliopedido:parseInt($("#foliomodal").html())>0?parseInt($("#foliomodal").html()):o,iabono:n,recibio:l},function(a,l){if(obj=JSON.parse(a),1==obj.success){if(1!=e)return ConsultarFolioPedido(),$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:3e3}),!0;if(i){var t=n,r=parseInt($("#foliomodal").html())>0?parseInt($("#foliomodal").html()):o;$("#modalAbono").modal("toggle"),$.smallBox({title:"Se captur&oacute; la nota para el folio #"+o+", por la cantidad de $"+n+".",content:"<h4>¿ Desea imprimir el comprobante ?</h4><p class='text-align-left'><br><a  href='#ajax/nota_abono.php?n="+t+"&f="+r+"' class='btn btn-primary btn-sm closeImpr'>&nbsp;Si&nbsp;</a> <a href='javascript:void(0);' class='btn btn-danger btn-sm closeImpr'>No</a></p>",color:"#296191",icon:"fa fa-foursquare swing animated"})}}else $.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:3e3})}):$("#importe_total").focus(),!0}function consultarPedidoaRecibir(){var a=5;return $.post("./php/pedidos.php",{funcion:a,foliopedido:$("#folio").val()},function(a,o){obj=JSON.parse(a),1==obj.success&&($("#tbodyRecibirPedido").html(""),$("#tbodyRecibirPedido").append(obj.data))}),!0}function actulizarZona(a){var o=7,e=validarNvaZonaModal(a);return e&&a>0?$.post("./php/zonas.php",{funcion:o,iRegion:a,nombrezona:$("#nombremodal").val(),desczona:$("#descripcionmodal").val()},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:1e4}),setTimeout(function(){window.location.reload()},2e3)):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}):$("#nombre").focus(),!0}function eliminarZona(a){var o=8;return a>0?$.post("./php/zonas.php",{funcion:o,iRegion:a},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:1e4}),setTimeout(function(){window.location.reload()},2e3)):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}):$("#nombre").focus(),!0}function eliminarColoniaZona(a){var o=10;return a>0?$.post("./php/zonas.php",{funcion:o,iRegion:a},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:1e4}),setTimeout(function(){window.location.reload()},2e3)):($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.reload()},2e3))}):$("#nombre").focus(),!0}function validarNvaZonaModal(a){return 0>=a?($("#nombremodal").focus(),!1):""==$("#nombremodal").val()?($("#nombremodal").focus(),!1):""==$("#descripcionmodal").val()?($("#descripcionmodal").focus(),!1):!0}function MensajeSmartZonas(a,o){return $.SmartMessageBox({title:"¿Esta seguro que desea continuar?",content:"Al realizar la operaci&oacute;n podria afectar informaci&oacute;n relacionada a este usuario.",buttons:"[No][Si]"},function(e){"Si"===e&&(2==o?eliminarZona(a):4==o&&actulizarZona(a)),"No"===e&&$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>Se cancelo la operaci&oacute;n...</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function MensajeSmartColonias(a,o){return $.SmartMessageBox({title:"¿Esta seguro que desea continuar?",content:"Al realizar la operaci&oacute;n podria afectar informaci&oacute;n relacionada a esta colonia.",buttons:"[No][Si]"},function(e){"Si"===e&&(2==o?eliminarColoniaZona(a):4==o&&ActualizarZonaColonia(a)),"No"===e&&$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>Se cancelo la operaci&oacute;n...</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}),!0}function ActualizarZonaColonia(a){var o=9,e=$("#SelectZonaModal").val();return a>0&&e>0?$.post("./php/zonas.php",{funcion:o,iKeyxDir:a,iRegion:e},function(a,o){obj=JSON.parse(a),1==obj.success?($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:1e4}),setTimeout(function(){window.location.reload()},2e3)):($.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>"+obj.error+"</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3}),setTimeout(function(){window.location.reload()},2e3))}):$("#nombre").focus(),!0}function LimpiarCapturaPedidoLiberado(){return $("#folio").val(""),$("#nombre").val(""),$("#calle").val(""),$("#numext").val(""),$("#numint").val(""),$("#CodigoPostal").val(""),$("#colonia").val(""),$("#municipio").val(""),$("#referencias").val(""),$("#fechaentrega").val(""),$("#fecharecolectar").val(""),$("#hora1").val(""),$("#hora2").val(""),$("#check_recoger").val(0),$("#time2").css("display","none"),$("#hora2").css("display","none"),$("#abono").html(0),$("#total").html(0),$("#tbodyRecibirPedido").html(""),$("#liquidaPedido").removeAttr("href"),$("#recibirAbono").removeAttr("href"),$("#entradaParcial").removeAttr("href"),$("#folio").focus(),!0}function validarInt(a){return a.value.length<=0&&(a.value=0,a.focus()),parseInt(a.max)<parseInt(a.value)&&(a.value=parseInt(a.max)),a.value=parseInt(a.value),!0}function isNumber(a){key=a.keyCode||a.which,tecla=String.fromCharCode(key).toLowerCase(),letras="1234567890",especiales=[8,37,46],tecla_especial=!1;for(var o in especiales)if(key==especiales[o]){tecla_especial=!0;break}if(13==key)$(this).trigger({type:"keypress",which:9});else if(-1==letras.indexOf(tecla)&&!tecla_especial)return!1}function isLetter(a){key=a.keyCode||a.which,tecla=String.fromCharCode(key).toLowerCase(),letras="áéíóúabcdefghijklmnñopqrstuvwxyzÁÉÍÓÚABCDEFGHIJKLMNÑOPQRSTUVWXYZ",especiales=[8,32,37,46],tecla_especial=!1;for(var o in especiales)if(key==especiales[o]){tecla_especial=!0;break}if(13==key)$(this).trigger({type:"keypress",which:9});else if(-1==letras.indexOf(tecla)&&!tecla_especial)return!1}function isCorrectNumber(a,o){var e=!1,e=isNumber(a);return parseInt(o.max)<parseInt(o.value)&&(o.value=o.max),e}function isAlphaNumeric(a){key=a.keyCode||a.which,tecla=String.fromCharCode(key).toLowerCase(),letras="áéíóúabcdefghijklmnñopqrstuvwxyzÁÉÍÓÚABCDEFGHIJKLMNÑOPQRSTUVWXYZ1234567890-_,.",especiales=[8,32,37,46],tecla_especial=!1;for(var o in especiales)if(key==especiales[o]){tecla_especial=!0;break}if(13==key)$(this).trigger({type:"keypress",which:9});else if(-1==letras.indexOf(tecla)&&!tecla_especial)return!1}function regresarDetalleInventario(){for(var a=!1,o=0,e=0,i=$("#tbodyArticulosModal tr").length,l=$("#folio").val(),t=1;i>=t&&(o=$("#skumodal_"+t).html()>0?$("#skumodal_"+t).html():0,e=parseInt($("#recibirmodal_"+t).val())>0?parseInt($("#recibirmodal_"+t).val()):0,!(e>0)||(a=regresarArticuloaInventario(l,o,e),a));t++);return a?($("#modalEntrada").modal("toggle"),$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>Se liber&oacute; correctamente los art&iacute;culos!.</i>",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3})):$.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>Fall&oacute; al liberar los art&iacute;culos!.</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3}),ConsultarFolioPedido(),setTimeout(function(){consultarPedidoaEntregarParcial()},2e3),a}function consultarPedidoaEntregarParcial(){var a=6;return $.post("./php/pedidos.php",{funcion:a,foliopedido:$("#folio").val()},function(a,o){objModal=JSON.parse(a),1==objModal.success&&($("#tbodyArticulosModal").html(""),$("#tbodyArticulosModal").append(objModal.data))}),!0}function regresarArticuloaInventario(a,o,e){var i=3,l=!0,t=validarArticuloDevolver(a,o,e);return t&&$.post("./php/articulos.php",{funcion:i,foliopedido:a,id_articulo:o,cantidad:e},function(a,o){obj=JSON.parse(a),l=1==obj.success?!0:!1}),l}function validarArticuloDevolver(a,o,e){return 0>=a?!1:0>=o?!1:0>=e?!1:!0}function consultarInventarioModificado(){var a=4;return $.post("./php/inventario.php",{funcion:a},function(a,o){obj=JSON.parse(a),1==obj.success&&($("#tbodyInventario").html(""),$("#tbodyInventario").append(obj.data))}),!0}function limpiarDomicilio(){return $("#calle").val(""),$("#numext").val(""),$("#numint").val(""),$("#CodigoPostal").val(""),$("#Colonia").val(""),$("#municipio").val(""),$("#referencias").val(""),$("#calle").focus(),!0}function LimpiarZonasCancelar(){return $("#SelectZona").val(0),$("#municipio").val(""),$("#CodigoPostal").val(""),$("#CodigoPostal").focus(),$("#Colonia").val(""),!0}function AbonarPedidoModal(a){if(parseInt($("#totalmodal").val())>0){var o=$("#idRecibed").val();AbonarPedido(1,a,1,!0,o)}else $.smallBox({title:"Aviso",content:"<i class='fa fa-clock-o'></i> <i>No se puede abonar al folio, no hay saldo pendiente!.</i>",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3});return!0}$(document).ready(function(){$("#btnEntraSesion").click(function(){var a=validarLoginUsr();return a&&$.post("./lock.php",{email:$("#email").val(),password:$("#password").val()},function(a,o){obj=JSON.parse(a),obj.success?window.location.assign(obj.data):($("#mensajeFail").html(obj.error),$("#mensajeFail").css("display","block"),setTimeout(function(){LimpiaLogin(),$("#email").focus()},3e3))}),!0})}),$("input,select").bind("keydown",function(a){a.keyCode||a.which;13===a.keyCode&&(a.preventDefault(),$("input,select,textarea")[$("input,select,textarea").index(this)+1].focus())});